---
icon: pen-to-square
date: 2024-03-27 12:00:00
category:
  - 篇章2
tag:
  - ref.value vite和webpack import和require
star: true
---

# 篇章2

## 1:vue3的时候ref为什么要使用.value属性？ 如果是你有什么办法更好的实现它吗？
 #### .value属性, 首先我们要知道vue3 是基于proxy 和 reflect 实现响应式数据的，proxy能代理的东西是什么？ 
 #### 答案是 对象， 那么就不难理解为什么 ref要.value了
 ##### 至于更好的实现ref, 其实就是.value 访问太麻烦,容易混淆,也有人提出ref sugar 即(ref语法糖),也就是去除ref .value,如何去除?

```js
  // 核心就是 对set 和 get 进行操作
  get (target,key){
    if(key === 'value'){
      return target.value
    }
    return target.value[key]
  }
```

#### 核心内容如下,如果vue 模板编译的时候会自动获取value,所以要判断key 为value的情况下,最后return target.value[key]  则是我们正常再js里面不通过 value 进行访问的逻辑
```js
  // 核心就是 对set 和 get 进行操作

  function magicRef(initialValue){
    const reactive = ref(initialValue)
    const proxy = new proxy(reactive,{
      get(target,key){
        if(key === 'value'){
          return target.value
        }
        return target.value[key]
      }
      set(target,key,value){
        if(key === 'value'){
          target.value = value
        }else{
          target.value[key] = value
        }
        return true
      }
    })
    return proxy
  }
```
 ##### [引用文章](https://juejin.cn/post/7226540105698771003?searchId=20231002075204FF098F426246DB507E79)


## 2:SSR渲染流程是什么样？
  - 客户端发送URL请求到服务端
  - 服务端查询数据库
  - 拿到数据,组合好页面
  - 服务端返回整个DOM结构给客户端

## 3:如何解决页面刷新丢失数据的问题？
  - 通过本地储存解决 localStorage 或 sessionStorage 存储
  - 或通过插件 vuex-persistedstate 解决

## 4: 后台系统中权限是实现到什么等级? 具体怎么实现的
  #### 目前大多数是实现到按钮级,实现的方法是通过自定义指令
  ##### 具体流程如下:
  - 从服务器获取一个对象,对象里包含了所有按钮的权限,
  - 给按钮添加自定义指令,并且为每个按钮传递不同参数
  - 通过自定义指令的bind生命周期 设置按钮的display 控制是否展示按钮或者直接删除元素

## 5: 说说对于vite和webpack的理解
  - webpack 和 vite都是很好的打包工具,对于webpack,在大型项目中构建比较蛮,因为它需要对文件执行多次扫描和转译,从而衍生了vite,vite是以开发模式极速构建著称,它利用了ES模块
    特性,只构建正在编译的模块,而不是项目,真正做到了按需引入
  - webpack 目前插件生态比较丰富,对于vite插件相对较少,同时对于项目的话个人认为webpack适合大型项目,vite适合中小型项目

## 6: import 和 require的区别
  - 首先是标准不同 import/export 是ES6标准, require/module.exports 是CommonJS的标准
  - 其次是执行过程 import是编译时执行异步加载,require是运行时才执行即同步加载
  - require的性能会相对稍低于import
